    # Description: Xfce's window manager
# URL: https://docs.xfce.org/xfce/xfwm4/start
# Maintainer: mara, mara at fail dot pp dot ua
# Depends on: libwnck-gtk3 libxfce4ui libxfce4util startup-notification xorg-libxpresenty

name=xfwm4
version=4.18.0
release=1
source=(https://archive.xfce.org/src/xfce/$name/${version%.*}/$name-$version.tar.bz2 \
        xinitrc.xfce)

build(){
  cd $name-$version

  ./configure \
    --prefix=/usr \
    --sysconfdir=/etc \
    --localstatedir=/var \
    --enable-startup-notification \
    --enable-shared \
    --enable-xsync \
    --enable-render \
    --enable-randr \
    --enable-xpresent \
    --enable-compositor \
    --enable-epoxy \
    --disable-debug \
    --disable-nls

  make
  make DESTDIR=$PKG install || exit 1

  rm -r $PKG/usr/share/locale
  find $PKG -name README -exec rm '{}' \+

  install -D -m755 $SRC/xinitrc.xfce $PKG/etc/X11/xinit/xinitrc.xfce

}
