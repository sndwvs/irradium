# Description: Library for importing WordPerfect (tm) documents
# URL: https://libwpd.sourceforge.net/
# Maintainer: Tim Biermann, tbier at posteo dot de
# Depends on: librevenge

name=libwpd
version=0.10.3
release=2
source=(https://downloads.sourceforge.net/project/libwpd/libwpd/$name-$version/$name-$version.tar.xz
  gcc11.patch
  include.patch
  libwpd-bundled-soname.patch.0
  rpath.patch)

build() {
  cd $name-$version

  patch -Np1 -i $SRC/gcc11.patch
  patch -Np0 -i $SRC/include.patch
  patch -Np0 -i $SRC/libwpd-bundled-soname.patch.0
  patch -Np0 -i $SRC/rpath.patch

  ./configure --prefix=/usr \
    --without-docs \
    --build=$(uname -m)-unknown-linux-gnu
  make
  make DESTDIR=$PKG install
}
