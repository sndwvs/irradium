# Description: A free C library that handles Resource Description Framework (RDF) query syntaxes, query construction and query execution returning result bindings
# URL: https://librdf.org/rasqal
# Maintainer: Tim Biermann, tbier at posteo dot de
# Depends on: libgcrypt libmpfr libpcre raptor

name=rasqal
version=0.9.33
release=3
source=(https://download.librdf.org/source/$name-$version.tar.gz
  libtool.patch
  rasqal-bundled-soname.patch.1
  rasqal-pkgconfig.patch.1
  rasqal-xcompile.patch.1
  rpath.patch)

build() {
  cd $name-$version

  patch -Np0 -i $SRC/libtool.patch
  patch -Np1 -i $SRC/rasqal-bundled-soname.patch.1
  patch -Np1 -i $SRC/rasqal-pkgconfig.patch.1
  patch -Np1 -i $SRC/rasqal-xcompile.patch.1
  patch -Np0 -i $SRC/rpath.patch

  ./configure --prefix=/usr \
    --enable-release \
    --build=$(uname -m)-unknown-linux-gnu
  make
  make DESTDIR=$PKG install

  rm -r $PKG/usr/share/gtk-doc
}
