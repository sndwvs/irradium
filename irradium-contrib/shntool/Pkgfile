# Description: a multi-purpose WAVE data processing and reporting utility
# URL: http://shnutils.freeshell.org/shntool/
# Maintainer: mara, mara at fail dot pp dot ua
# Depends on: glibc

name=shntool
version=3.0.10
release=1
source=(http://shnutils.freeshell.org/shntool/dist/src/${name}-${version}.tar.gz
    debian_patches_950803.patch
    shntool-3.0.10-large-size.diff
    shntool-3.0.10-large-times.diff
    debian_patches_no-cdquality-check.patch)

build() {
    cd $name-$version

    patch -Np1 -i ${SRC}/debian_patches_950803.patch
    patch -Np1 -i ${SRC}/shntool-3.0.10-large-size.diff
    patch -Np1 -i ${SRC}/shntool-3.0.10-large-times.diff
    patch -Np1 -i ${SRC}/debian_patches_no-cdquality-check.patch

    ./configure \
        --prefix=/usr \
        --build=$(uname -m)-unknown-linux-gnu \
        --disable-static \
        --disable-man

    make
    make DESTDIR=$PKG install
}
